<html>
  <head>
    <title>Custom-Element-Loader-Prototype</title>
  </head>
  <body onload="load()">
    <script src="./index.ts"></script>
    <script>

      function defineHelloWorld(greeting = 'HELLO AGAIN') {

        // only define, if not already defined
        if (!customElements.get('hello-world')) {
          customElements.define('hello-world', class extends HTMLElement {

            constructor() {
              super();
              console.log('Construct CE!')
            }

            connectedCallback() {
              console.log('I am connected!');
              this.innerHTML = `<div>${greeting}</div>`;
            }

          })
        } else {
          throw new Error('Already defined!');
        }
      }

      function load() {
        defineHelloWorld();
      }

      function addHelloWorld() {
        document.body.appendChild(document.createElement('hello-world'));
      }

    </script>
    <h1>Custom Element Loader Prototype!</h1>
    <hello-world>Dies ist Text!</hello-world>
  </body>
</html>
